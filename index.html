<!DOCTYPE html>
<html>
<head>
	<title>Glinsky's Hexagonal Chess</title>
	<!-- 43px padding top for match -->
	<style>
		h1 {
			font-family: helvetica neue,Helvetica,Arial,sans-serif;
		}
		p {
			margin-left: 2vh;
			font-family: "Segoe UI",Arial,sans-serif;
		}
		.inl {
			float: left;
		}
		#container {
			margin-right: 3vh;
			margin-bottom: 5vh;
			width: 75vh;
			height: 75vh;
			text-align: center;
		}
		#board {
			display: inline-block;
			background-image: url("images/Glinski_Board.png");
			background-size: 100% 103.5%;
			width: 100%;
			height: 100%;
			font-size: 3vh;
			outline: 1vh solid black;
		}
		#paddings {
			width: 83%;
			height: 86%;
			padding-top: 6%;
			padding-bottom: 8%;
			padding-left: 8.5%;
			padding-right: 8.5%;
		}
		#turndisplay {
			color: green;
			font-size: large;
		}
		.cell {
			/* outline: 3px solid black; */
		}
		.s {
			width: 9.0909%;
			height: 4.7619%;
			/* outline: 3px solid red; */
			display: table-cell;
			float: left;
			text-align: center;
		}
	</style>
</head>

<body>

	<h1 class="center">Hexagonal Chess</h1>

	<div id="container" class="inl">
		<div id="board">
			<div id="paddings">

				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="5">&#9815</div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="15">&#9813</div>
				<div class="s"></div>
				<div class="s cell" id="17">&#9812</div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="25">&#9816</div>
				<div class="s"></div>
				<div class="s cell" id="27">&#9815</div>
				<div class="s"></div>
				<div class="s cell" id="29">&#9816</div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="35">&#9814</div>
				<div class="s"></div>
				<div class="s cell" id="37"></div>
				<div class="s"></div>
				<div class="s cell" id="39"></div>
				<div class="s"></div>
				<div class="s cell" id="41">&#9814</div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s cell" id="45">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="47"></div>
				<div class="s"></div>
				<div class="s cell" id="49">&#9815</div>
				<div class="s"></div>
				<div class="s cell" id="51"></div>
				<div class="s"></div>
				<div class="s cell" id="53">&#9817</div>
				<div class="s"></div>

				<div class="s cell" id="55"></div>
				<div class="s"></div>
				<div class="s cell" id="57">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="59"></div>
				<div class="s"></div>
				<div class="s cell" id="61"></div>
				<div class="s"></div>
				<div class="s cell" id="63">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="65"></div>

				<div class="s"></div>
				<div class="s cell" id="67"></div>
				<div class="s"></div>
				<div class="s cell" id="69">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="71"></div>
				<div class="s"></div>
				<div class="s cell" id="73">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="75"></div>
				<div class="s"></div>

				<div class="s cell" id="77"></div>
				<div class="s"></div>
				<div class="s cell" id="79"></div>
				<div class="s"></div>
				<div class="s cell" id="81">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="83">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="85"></div>
				<div class="s"></div>
				<div class="s cell" id="87"></div>

				<div class="s"></div>
				<div class="s cell" id="89"></div>
				<div class="s"></div>
				<div class="s cell" id="91"></div>
				<div class="s"></div>
				<div class="s cell" id="93">&#9817</div>
				<div class="s"></div>
				<div class="s cell" id="95"></div>
				<div class="s"></div>
				<div class="s cell" id="97"></div>
				<div class="s"></div>

				<div class="s cell" id="99"></div>
				<div class="s"></div>
				<div class="s cell" id="101"></div>
				<div class="s"></div>
				<div class="s cell" id="103"></div>
				<div class="s"></div>
				<div class="s cell" id="105"></div>
				<div class="s"></div>
				<div class="s cell" id="107"></div>
				<div class="s"></div>
				<div class="s cell" id="109"></div>

				<div class="s"></div>
				<div class="s cell" id="111"></div>
				<div class="s"></div>
				<div class="s cell" id="113"></div>
				<div class="s"></div>
				<div class="s cell" id="115"></div>
				<div class="s"></div>
				<div class="s cell" id="117"></div>
				<div class="s"></div>
				<div class="s cell" id="119"></div>
				<div class="s"></div>

				<div class="s cell" id="121"></div>
				<div class="s"></div>
				<div class="s cell" id="123"></div>
				<div class="s"></div>
				<div class="s cell" id="125"></div>
				<div class="s"></div>
				<div class="s cell" id="127"></div>
				<div class="s"></div>
				<div class="s cell" id="129"></div>
				<div class="s"></div>
				<div class="s cell" id="131"></div>

				<div class="s"></div>
				<div class="s cell" id="133"></div>
				<div class="s"></div>
				<div class="s cell" id="135"></div>
				<div class="s"></div>
				<div class="s cell" id="137">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="139"></div>
				<div class="s"></div>
				<div class="s cell" id="141"></div>
				<div class="s"></div>

				<div class="s cell" id="143"></div>
				<div class="s"></div>
				<div class="s cell" id="145"></div>
				<div class="s"></div>
				<div class="s cell" id="147">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="149">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="151"></div>
				<div class="s"></div>
				<div class="s cell" id="153"></div>

				<div class="s"></div>
				<div class="s cell" id="155"></div>
				<div class="s"></div>
				<div class="s cell" id="157">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="159"></div>
				<div class="s"></div>
				<div class="s cell" id="161">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="163"></div>
				<div class="s"></div>

				<div class="s cell" id="165"></div>
				<div class="s"></div>
				<div class="s cell" id="167">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="169"></div>
				<div class="s"></div>
				<div class="s cell" id="171"></div>
				<div class="s"></div>
				<div class="s cell" id="173">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="175"></div>

				<div class="s"></div>
				<div class="s cell" id="177">&#9823</div>
				<div class="s"></div>
				<div class="s cell" id="179"></div>
				<div class="s"></div>
				<div class="s cell" id="181">&#9821</div>
				<div class="s"></div>
				<div class="s cell" id="183"></div>
				<div class="s"></div>
				<div class="s cell" id="185">&#9823</div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="189">&#9820</div>
				<div class="s"></div>
				<div class="s cell" id="191"></div>
				<div class="s"></div>
				<div class="s cell" id="193"></div>
				<div class="s"></div>
				<div class="s cell" id="195">&#9820</div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="201">&#9822</div>
				<div class="s"></div>
				<div class="s cell" id="203">&#9821</div>
				<div class="s"></div>
				<div class="s cell" id="205">&#9822</div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="213">&#9819</div>
				<div class="s"></div>
				<div class="s cell" id="215">&#9818</div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>

				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s cell" id="225">&#9821</div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>
				<div class="s"></div>

			</div></div></div>

			<div id=turndisplay>White's turn</div>

			<script>

	// 0 means white, 1 means black

	turn = 0;
	picking = false;
	picked = "";
	
	//white index 0, black index 1
	
	turntexts = ["White's turn", "Black's turn"];
	pieces = ["\u2654\u2655\u2656\u2657\u2658\u2659","\u265A\u265B\u265C\u265D\u265E\u265F"];
	// KING QUEEN ROOK BISHOP KNIGHT PAWN

	dot = "\u2022";

	pickedId = 0;


	document.body.onclick = function(e) {   //when the document body is clicked

		if (window.event) {
        	e = event.srcElement;           //assign the element clicked to e (IE 6-8)
        } else {
	        e = e.target;                   //assign the element clicked to e
	    }

    	if (e.className && e.className.indexOf('cell') != -1) // If clicked on a cell
    	{

    		if ((picking == false) && (e.innerHTML != "") && (pieces[turn].indexOf(e.innerHTML) != -1)) // If clicked on your own piece while not lifted
    		{
    			pickedId = e.id;
    			picked = e.innerHTML;
    			e.innerHTML = "";
    			picking = true;

        		if ((picked == "\u2654") || (picked == "\u265A")) // Either king
        		{

        			var hexagonId;
        			var hexagon;

        			for (hexagonId = 0; hexagonId <= 230; hexagonId++)
        			{

        				hexagon = document.getElementById(hexagonId);

        				if (hexagon)
        				{
        					if ( kingmoves.indexOf(parseInt(hexagonId - pickedId)) != -1 )
        					{

        						if (hexagon.innerHTML == "") {
        							hexagon.innerHTML = dot;
        						}
        						if ( (hexagon.innerHTML != "")  && ( pieces[1 - turn].indexOf(hexagon.innerHTML) != -1) ) {
        							hexagon.style.color = "red";
        						}
        					}
        				}
        			}
        		}

        		if ((picked == "\u2659")) // White pawn
        		{

        			var hexagonId;
        			var hexagon;

        			for (hexagonId = 0; hexagonId <= 230; hexagonId++)
        			{

        				hexagon = document.getElementById(hexagonId);

        				if (hexagon)
        				{
        					if ((hexagonId - pickedId) == 22)
        					{
        						if (hexagon.innerHTML == "") {
        							hexagon.innerHTML = dot;
        						}
        					}

        					if (((hexagonId - pickedId) == 44) && (firstPawnIDs.indexOf(parseInt(pickedId,10)) != -1) && ( (document.getElementById(parseInt(pickedId,10) + 22).innerHTML == "") || (document.getElementById(parseInt(pickedId,10) + 22).innerHTML == dot)))
        					{

        						if (hexagon.innerHTML == "") {
        							hexagon.innerHTML = dot;
        							hexagon.style.color = "green";
        						}
        					}

        					if ( ((hexagonId - pickedId) == 10) || ((hexagonId - pickedId) == 12) ) {
        						if ( (hexagon.innerHTML != "")  && ( pieces[1 - turn].indexOf(hexagon.innerHTML) != -1) ) {
        							hexagon.style.color = "red";
        						}
        					}
        				}
        			}
        		}

        		if ((picked == "\u265F")) // Black pawn
        		{

        			var hexagonId;
        			var hexagon;

        			for (hexagonId = 0; hexagonId <= 230; hexagonId++)
        			{

        				hexagon = document.getElementById(hexagonId);

        				if (hexagon)
        				{
        					if ((hexagonId - pickedId) == -22)
        					{
        						if (hexagon.innerHTML == "") {
        							hexagon.innerHTML = dot;
        						}
        					}
        					
        					if ( ((hexagonId - pickedId) == -44) && (firstPawnIDs.indexOf(parseInt(pickedId,10)) != -1)  && ( (document.getElementById(pickedId - 22).innerHTML == "") || (document.getElementById(pickedId - 22).innerHTML == dot) ) )
        					{
        						if (hexagon.innerHTML == "") {
        							hexagon.innerHTML = dot;
        							hexagon.style.color = "green";
        						}
        					}

        					if ( ((hexagonId - pickedId) == -10) || ((hexagonId - pickedId) == -12) ) {
        						if ( (hexagon.innerHTML != "")  && ( pieces[1 - turn].indexOf(hexagon.innerHTML) != -1) ) {
        							hexagon.style.color = "red";
        						}
        					}
        				}
        			}
        		}

        		if ((picked == "\u2658") || (picked == "\u265E"))
        		{  // Either knight

        			var hexagonId;
        			var hexagon;

        			for (hexagonId = 0; hexagonId <= 230; hexagonId++)
        			{

        				hexagon = document.getElementById(hexagonId);

        				if (hexagon)
        				{
        					if ( knightmoves.indexOf(parseInt(hexagonId - pickedId)) != -1 )
        					{
        						if (hexagon.innerHTML == "") {
        							hexagon.innerHTML = dot;
        						}
        						if ( (hexagon.innerHTML != "")  && ( pieces[1 - turn].indexOf(hexagon.innerHTML) != -1) ) {
        							hexagon.style.color = "red";
        						}
        					}
        				}
        			}
        		}

        		if ((picked == "\u2655") || (picked == "\u265B"))
        		{ // Either queen
        			var i;

        			for (i=0; i < queenmoves.length; i++)
        			{
        				var j;
        				var reachable = true;

        				for ( j=1; (reachable == true) && (((pickedId % 11) + queenxdisp[i]*j) <= 10 ) && ( 0 <= (pickedId % 11) + queenxdisp[i]*j); j++ )
        				{

        					var pathcell = document.getElementById(parseInt(pickedId,10) + queenmoves[i]*j)

        					if (pathcell)
        					{
        						if (pathcell.innerHTML == "")
        						{
        							pathcell.innerHTML = dot;
        						}
        						else if (pieces[1 - turn].indexOf(pathcell.innerHTML) != -1)
        						{
        							pathcell.style.color = "red";
        							reachable = false;
        						}
        						else if (pieces[turn].indexOf(pathcell.innerHTML) != -1) {
        							reachable = false;
        						}
        					}
        					else {
        						reachable = false;
        					}
        				}

        			}
        		}

        		if ((picked == "\u2657") || (picked == "\u265D"))
        		{ // Either bishop
        			var i;

        			for (i=0; i < bishopmoves.length; i++)
        			{
        				var j;
        				var reachable = true;

        				for ( j=1; (reachable == true) && (((pickedId % 11) + bishopxdisp[i]*j) <= 10 ) && ( 0 <= (pickedId % 11) + bishopxdisp[i]*j); j++ )
        				{

        					var pathcell = document.getElementById(parseInt(pickedId,10) + bishopmoves[i]*j)

        					if (pathcell)
        					{
        						if (pathcell.innerHTML == "")
        						{
        							pathcell.innerHTML = dot;
        						}
        						else if (pieces[1 - turn].indexOf(pathcell.innerHTML) != -1)
        						{
        							pathcell.style.color = "red";
        							reachable = false;
        						}
        						else if (pieces[turn].indexOf(pathcell.innerHTML) != -1) {
        							reachable = false;
        						}
        					}
        					else {
        						reachable = false;
        					}
        				}

        			}
        		}

        		if ((picked == "\u2656") || (picked == "\u265C"))
        		{ // Either rook
        			var i;

        			for (i=0; i < rookmoves.length; i++)
        			{
        				var j;
        				var reachable = true;

        				for ( j=1; (reachable == true) && (((pickedId % 11) + rookxdisp[i]*j) <= 10 ) && ( 0 <= (pickedId % 11) + rookxdisp[i]*j); j++ )
        				{

        					var pathcell = document.getElementById(parseInt(pickedId,10) + rookmoves[i]*j)

        					if (pathcell)
        					{
        						if (pathcell.innerHTML == "")
        						{
        							pathcell.innerHTML = dot;
        						}
        						else if (pieces[1 - turn].indexOf(pathcell.innerHTML) != -1)
        						{
        							pathcell.style.color = "red";
        							reachable = false;
        						}
        						else if (pieces[turn].indexOf(pathcell.innerHTML) != -1) {
        							reachable = false;
        						}
        					}
        					else {
        						reachable = false;
        					}
        				}

        			}
        		}
        	}

        	else if ((picking == true) && ((e.innerHTML == dot) || (e.style.color == "red") || (e.id == pickedId))) // If picking and clicks
        	{
        		if ((firstPawnIDs.indexOf(parseInt(pickedId,10)) != -1) && (e.id != pickedId)) {
        			firstPawnIDs.splice(firstPawnIDs.indexOf(parseInt(pickedId,10)),1);  // remove pickedId from the firstPawnIDs list so you can't move a pawn double again
        		}

        		e.innerHTML = picked;
        		picked = "";
        		picking = false;

        		if (e.id != pickedId) {
        			turn = 1 - turn;
        		}

        		var hexagonId;
        		var hexagon;

    			// cleanup

    			for (hexagonId = 0; hexagonId <= 230; hexagonId++)
    			{

    				hexagon = document.getElementById(hexagonId);

    				if (hexagon)
    				{
    					if (hexagon.innerHTML == dot) {
    						hexagon.innerHTML = "";
    					}
    					if (hexagon.style.color == "red") {
    						hexagon.style.color = "black";
    					}
    					if (hexagon.style.color == "green") {
    						hexagon.style.color = "black";
    					}
    				}
    			}

    			document.getElementById("turndisplay").innerHTML = turntexts[turn];
    		}
    	}
    }

    firstPawnIDs = [45,53, 57, 63, 69, 73, 81, 83, 93, 137,147,149,157,161,167,173,177,185];
    
    knightmoves = [8, 14, 42, 46, 54, 56, -8, -14, -42, -46, -54, -56];

    kingmoves = [2,10,12,22,32,34,-2,-10,-12,-22,-32,-34];

    queenmoves = [2,10,12,22,32,34,-2,-10,-12,-22,-32,-34];
    queenxdisp = [2,-1,1,0,-1,1,-2,1,-1,0,1,-1];

    rookmoves = [10,12,22,-10,-12,-22];
    rookxdisp = [-1,1,0,1,-1,0];

    bishopmoves = [2,32,34,-2,-32,-34];
    bishopxdisp = [2,-1,1,-2,1,-1]

    init = [];

    var i;

    for (i=0; i <= 230; i++) {
    	var currentElement = document.getElementById(i)
    	if (currentElement) {
    		init.push(currentElement.innerHTML);
    	}
    }

    function restart() {
    	turn = 0;
    	picking = false;
    	picked = "";

    	var copy = init.slice();
    	firstPawnIDs = [45,53, 57, 63, 69, 73, 81, 83, 93, 137,147,149,157,161,167,173,177,185];

    	for (i=0; i <= 230; i++) {
    		var currentElement = document.getElementById(i)
    		if (currentElement) {
    			currentElement.innerHTML = copy.shift();
    		}
    	}

    }

</script>

<p>This website contains a version of Glinski's hexagonal chess written in Javascript.</p>

<p><a href="https://en.wikipedia.org/wiki/Hexagonal_chess#Gli%C5%84ski's_hexagonal_chess"><b>Gliński's</b> hexagonal <b>chess</b></a>, invented by <strong>Władysław Gliński</strong> in 1936 and first launched in Britain in 1949, is "probably the most widely played of the hexagonal chess games".
</p>


	<button onclick="restart()"><h1>Restart</h1></button>

</body>
